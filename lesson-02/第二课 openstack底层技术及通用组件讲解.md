# 第二课 openstack底层技术及通用组件讲解
## 1.计算虚拟化相关技术介绍
### CPU特权级
CPU指中央处理器，是一台电脑上最核心的组件，它的功能主要是解释计算机的指令以及处理计算机软件中的数据，在操作系统中做的任何操作，比如打开一个网页或world 文档之类的操作，落到底层时都需要CPU进行计算处理，而这样的操作显然不能随便让哪个程序去做，否则硬件很容易被一些黑客程序去攻破，系统的稳定性无从谈起，因此就自然引出“特权级”的概念，最关键，最核心的一些操作智能由最高权限的程序来执行，这样就可以做到集中管理，并且能够减少有限资源的访问和使用的冲突。

以X86架构的CPU来说，它定义了一个值叫环Ring，从里到外四个环分别是Ring0，Ring1，Ring2，Ring3，也就是分别对应着四个特权级，Ring0是最高的，Ring3是最低的。CPU执行每条指令时都会对这条指令所具有的特权级做相应的检查，这样就能做到集中管理并减少资源访问使用冲突。

### 内核态与用户态
当程序运行在Ring3特权级时称为“用户态”，反之，当程序运行在Ring0特权级上的时候成为“内核态”。操作系统的代码运行在最高级别的Ring0上，而应用程序的代码运行在最低级别Ring3上。运行在用户态的程序是不能做一些底层操作的，比如需要访问磁盘，读写内存，这些操作都需要通过调用内核态的代码才能够执行。

计算虚拟化最直观的体现就是在一台服务器上同时运行多个操作系统，而这些操作系统资源池是由一个数组的操作系统和若干个客户操作系统组成的。一个服务器是无法做到同时运行多个操作系统的，因为数组操作系统是工作在内核态，而整个内核态是被数组操作系统独占的，而其它的客户操作系统就没办法使用了，但客户操作系统是不知道的，所以它以前执行什么指令，现在还是执行什么指令，但这样肯定是不行的，因为它没有权限，也就无法做的一个服务器同时运行多个操作系统。

虚拟化主要的难题就是解决多个CPU怎么虚拟的问题，因为只有多个CPU才能有多个特权级，这样才能保证每个操作系统都运行在它自己的特权级上面，所以才叫做计算虚拟化，而不是服务虚拟化。

### hypervisor（VMM）
一种运行在基础物理服务器和操作系统之间的中间软件层，可允许多个操作系统和应用共享硬件。也可叫做VMM（virtual machine monitor），即虚拟机监视器。

对于数组操作系统来说，它认为hypervisor是一个普通的运行在它上面的一个驱动程序而已，而对于客户操作系统（VM）来说，它认为它就是运行在它自己的硬件上面，也就是说所有的VM需要的硬件都是由hypervisor虚拟化提供的。

## 2.网络虚拟化相关技术介绍



## 3.OpenStack通用组件介绍


